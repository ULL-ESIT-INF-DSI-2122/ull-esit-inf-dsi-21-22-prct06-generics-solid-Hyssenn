<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>practica6</title><meta name="description" content="Documentation for practica6"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">practica6</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1> practica6</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#ull-esit-inf-dsi-21-22-prct06-generics-solid-hyssenn" id="ull-esit-inf-dsi-21-22-prct06-generics-solid-hyssenn" style="color: inherit; text-decoration: none;">
  <h1>ull-esit-inf-dsi-21-22-prct06-generics-solid-Hyssenn</h1>
</a>

<a href="#introducción" id="introducción" style="color: inherit; text-decoration: none;">
  <h2>Introducción</h2>
</a>

<a href="#objetivos" id="objetivos" style="color: inherit; text-decoration: none;">
  <h2>Objetivos</h2>
</a>

<a href="#ejercicio-1-el-combate-definitivo" id="ejercicio-1-el-combate-definitivo" style="color: inherit; text-decoration: none;">
  <h3>Ejercicio-1 El combate Definitivo</h3>
</a>
<p>Extendiendo el ejercicio de la práctica anterior ahora realizaremos un combate con múltiples universos ya no solo de pokemon crearemos una estructura de ficheros donde cada fichero contendrá una única clase:</p>
<ul>
<li>En donde en <code>fighter.ts</code> se guardará una clase abstracta que será la definición general de todos los combatientes desde donde heredarán todos los combatientes.</li>
<li>Los ficheros <code>dragonball.ts</code> <code>legendsofheroes.ts</code> <code>pokemon.ts</code> y <code>starwars.ts</code> contendran clases hijas de la clase fighter cada una representando un universo como el nombre de los ficheros indica.</li>
<li><code>universeChecker.ts</code> contendrá una matriz de tipos donde cada universo será mas fuerte, más debil o de igual fuerza contra otro universo.</li>
<li><code>Pokedex.ts</code> Contendrá una lista de luchadores que podrán ser usados en cualquier momento.</li>
<li>Por último en <code>combat.ts</code> se definirá y se resolverá la lucha entre los distintos combatientes.</li>
</ul>

<a href="#clase-fighter-y-sus-clases-hijas-de-distintos-universos" id="clase-fighter-y-sus-clases-hijas-de-distintos-universos" style="color: inherit; text-decoration: none;">
  <h4>Clase fighter y Sus clases hijas de distintos universos</h4>
</a>
<pre><code><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">abstract</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Fighter</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-4">name</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-4">weigth</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-4">height</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">protected</span><span class="hl-1"> </span><span class="hl-4">universe</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">protected</span><span class="hl-1"> </span><span class="hl-4">attack</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">protected</span><span class="hl-1"> </span><span class="hl-4">defense</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">protected</span><span class="hl-1"> </span><span class="hl-4">hp</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">  </span><span class="hl-2">abstract</span><span class="hl-1"> </span><span class="hl-5">frase</span><span class="hl-1">() :</span><span class="hl-3">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">abstract</span><span class="hl-1"> </span><span class="hl-5">getUniverse</span><span class="hl-1">() :</span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">abstract</span><span class="hl-1"> </span><span class="hl-5">getAttack</span><span class="hl-1">() :</span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">abstract</span><span class="hl-1"> </span><span class="hl-5">getDefense</span><span class="hl-1">() :</span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">abstract</span><span class="hl-1"> </span><span class="hl-5">getHp</span><span class="hl-1">() :</span><span class="hl-3">number</span><br/><span class="hl-1">  </span><span class="hl-2">abstract</span><span class="hl-1"> </span><span class="hl-5">setHp</span><span class="hl-1">(</span><span class="hl-4">hp</span><span class="hl-1"> :</span><span class="hl-3">number</span><span class="hl-1">) :</span><span class="hl-3">void</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Esta clase será la superclase de todas las demás y está sera una clase abstracta significando que todas sus hijas tienen que añadir la implementación de todos sus métodos y cogerá todos sus atributos. Sus clases hijas serán: Star wars, DragonBall, LegendsOfHeroes y Pokemon, y para todas ellas se definirán los mismos atributos y métodos.</p>
<ul>
<li>Atributos: nombre, peso y altura, ataque, defensa y vida</li>
<li>Métodos: La frase significativa al universo, conseguir el tipo de universo, conseguir el ataque, conseguir la defensa, conseguir la vida y cambiar la vida.</li>
</ul>
<p>Entre los métodos cabe destacar el método <code>frase</code> pues estamos usando un generador de números aleatorios y para cada universo hemos diseñado una serie de frases, dicho generador producirá un número aleatorio y este será luego el que escoja, mediante un switch, que frase dirá el personaje.</p>
<pre><code><span class="hl-5">frase</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-6">opcion</span><span class="hl-1"> = </span><span class="hl-3">Math</span><span class="hl-1">.</span><span class="hl-5">floor</span><span class="hl-1">(</span><span class="hl-3">Math</span><span class="hl-1">.</span><span class="hl-5">floor</span><span class="hl-1">(</span><span class="hl-3">Math</span><span class="hl-1">.</span><span class="hl-5">random</span><span class="hl-1">() * (</span><span class="hl-7">4</span><span class="hl-1"> - </span><span class="hl-7">0</span><span class="hl-1">)) + </span><span class="hl-7">0</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">switch</span><span class="hl-1"> (</span><span class="hl-4">opcion</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">0</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-8">&#39;Que la fuerza te acompañe&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">1</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-8">&#39;Su carencia de fe resulta molesta&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">2</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-8">&#39;Tus ojos pueden engañarte, no confíes en ellos&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">3</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-8">&#39;¿Puede alguien quitarme de delante a este felpudo con patas?.&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span>
</code></pre>
<p><strong>Ejemplo de frases de Star Wars</strong></p>

<a href="#universechecker" id="universechecker" style="color: inherit; text-decoration: none;">
  <h3>UniverseChecker</h3>
</a>
<p>Esta clase va a usar la misma lógica usada en la práctica anterior. Usando la ídea de la matriz de tipos en el juego <strong>Pokemon</strong> creare una matriz de tipos usando un enumerado, y en el eje x se pondrá el universo del atacante y en el eje y el universo del defensor. Usando un método que mira los tipos de ambos, atacante y defensor, coge las coordenadas, y de la matriz saca la efectividad. </p>
<pre><code><span class="hl-5">constructor</span><span class="hl-1">() {    </span><span class="hl-9">// DB //LoH // poke //SW</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">matrixTypes</span><span class="hl-1"> = [[</span><span class="hl-7">1</span><span class="hl-1">,   </span><span class="hl-7">1</span><span class="hl-1">,  </span><span class="hl-7">1</span><span class="hl-1">/</span><span class="hl-7">2</span><span class="hl-1">,  </span><span class="hl-7">2</span><span class="hl-1">], </span><span class="hl-9">// dragonball</span><br/><span class="hl-1">                        [</span><span class="hl-7">1</span><span class="hl-1">,   </span><span class="hl-7">1</span><span class="hl-1">,  </span><span class="hl-7">2</span><span class="hl-1">,  </span><span class="hl-7">1</span><span class="hl-1">/</span><span class="hl-7">2</span><span class="hl-1">], </span><span class="hl-9">// legendsofheroes</span><br/><span class="hl-1">                        [</span><span class="hl-7">2</span><span class="hl-1">,   </span><span class="hl-7">1</span><span class="hl-1">/</span><span class="hl-7">2</span><span class="hl-1">,  </span><span class="hl-7">1</span><span class="hl-1">,  </span><span class="hl-7">1</span><span class="hl-1">], </span><span class="hl-9">// pokemon</span><br/><span class="hl-1">                        [</span><span class="hl-7">1</span><span class="hl-1">/</span><span class="hl-7">2</span><span class="hl-1">,   </span><span class="hl-7">2</span><span class="hl-1">,  </span><span class="hl-7">1</span><span class="hl-1">,  </span><span class="hl-7">1</span><span class="hl-1">]]; </span><span class="hl-9">// starwars</span><br/><span class="hl-1">  </span><span class="hl-9">/* this.matrixTypes[0][0] = 1;</span><br/><span class="hl-9">    this.matrixTypes[0][1] = 1;</span><br/><span class="hl-9">    this.matrixTypes[0][2] = 1/2;</span><br/><span class="hl-9">    this.matrixTypes[0][3] = 2;</span><br/><span class="hl-9">    this.matrixTypes[1][0] = 1;</span><br/><span class="hl-9">    this.matrixTypes[1][1] = 1;</span><br/><span class="hl-9">    this.matrixTypes[1][2] = 2;</span><br/><span class="hl-9">    this.matrixTypes[1][3] = 1/2;</span><br/><span class="hl-9">    this.matrixTypes[2][0] = 2;</span><br/><span class="hl-9">    this.matrixTypes[2][1] = 1/2;</span><br/><span class="hl-9">    this.matrixTypes[2][2] = 1;</span><br/><span class="hl-9">    this.matrixTypes[2][3] = 1;</span><br/><span class="hl-9">    this.matrixTypes[3][0] = 1/2;</span><br/><span class="hl-9">    this.matrixTypes[3][1] = 2;</span><br/><span class="hl-9">    this.matrixTypes[3][2] = 1;</span><br/><span class="hl-9">    this.matrixTypes[3][3] = 1; */</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-9">/**</span><br/><span class="hl-9">   * funcion que se encarga de calcular la efectividad del ataque</span><br/><span class="hl-9">   * </span><span class="hl-2">@param</span><span class="hl-9"> </span><span class="hl-4">atacante</span><span class="hl-9"> el luchador que realiza el ataque</span><br/><span class="hl-9">   * </span><span class="hl-2">@param</span><span class="hl-9"> </span><span class="hl-4">defensor</span><span class="hl-9"> el luchador que se defiende del ataque</span><br/><span class="hl-9">   * </span><span class="hl-2">@returns</span><span class="hl-9"> la efectividad en un xn</span><br/><span class="hl-9">   */</span><br/><span class="hl-1">  </span><span class="hl-5">checkType</span><span class="hl-1">(</span><span class="hl-4">atacante</span><span class="hl-1">: </span><span class="hl-4">Fighter</span><span class="hl-1">, </span><span class="hl-4">defensor</span><span class="hl-1">: </span><span class="hl-4">Fighter</span><span class="hl-1">) :</span><span class="hl-4">number</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">x</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">y</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">i</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">; </span><span class="hl-4">i</span><span class="hl-1"> &lt;= </span><span class="hl-7">3</span><span class="hl-1">; </span><span class="hl-4">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">      </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">type</span><span class="hl-1">[</span><span class="hl-4">i</span><span class="hl-1">] == </span><span class="hl-4">atacante</span><span class="hl-1">.</span><span class="hl-5">getUniverse</span><span class="hl-1">()) {</span><br/><span class="hl-1">        </span><span class="hl-4">x</span><span class="hl-1"> = </span><span class="hl-4">i</span><span class="hl-1">;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">type</span><span class="hl-1">[</span><span class="hl-4">i</span><span class="hl-1">] == </span><span class="hl-4">defensor</span><span class="hl-1">.</span><span class="hl-5">getUniverse</span><span class="hl-1">()) {</span><br/><span class="hl-1">        </span><span class="hl-4">y</span><span class="hl-1"> = </span><span class="hl-4">i</span><span class="hl-1">;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">matrixTypes</span><span class="hl-1">[</span><span class="hl-4">x</span><span class="hl-1">][</span><span class="hl-4">y</span><span class="hl-1">];</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code></pre>
<p>la efectividad se podria resumir así:</p>
<ul>
<li>dragonball &gt; star wars</li>
<li>legendsOfheroes &gt; pokemon</li>
<li>pokemon &gt; dragonball</li>
<li>star wars &gt; legendsOfHeroes</li>
</ul>

<a href="#pokedex" id="pokedex" style="color: inherit; text-decoration: none;">
  <h3>Pokedex</h3>
</a>
<p> Esta simple clase va a guardar una lista de luchadores para luego poder ser utilizado</p>
<pre><code><span class="hl-1">  </span><span class="hl-5">constructor</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">suicune</span><span class="hl-1"> :</span><span class="hl-3">Fighter</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">Pokemon</span><span class="hl-1">(</span><span class="hl-8">&#39;Suicune&#39;</span><span class="hl-1">, </span><span class="hl-7">187</span><span class="hl-1">, </span><span class="hl-7">2</span><span class="hl-1">, </span><span class="hl-8">&#39;pokemon&#39;</span><span class="hl-1">, </span><span class="hl-7">75</span><span class="hl-1">, </span><span class="hl-7">115</span><span class="hl-1">, </span><span class="hl-7">140</span><span class="hl-1">, </span><span class="hl-8">&#39;agua&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">luxray</span><span class="hl-1"> :</span><span class="hl-3">Fighter</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">Pokemon</span><span class="hl-1">(</span><span class="hl-8">&#39;Luxray&#39;</span><span class="hl-1">, </span><span class="hl-7">42</span><span class="hl-1">, </span><span class="hl-7">1.4</span><span class="hl-1">, </span><span class="hl-8">&#39;pokemon&#39;</span><span class="hl-1">, </span><span class="hl-7">120</span><span class="hl-1">, </span><span class="hl-7">79</span><span class="hl-1">, </span><span class="hl-7">120</span><span class="hl-1">, </span><span class="hl-8">&#39;electrico&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">palpatine</span><span class="hl-1"> :</span><span class="hl-3">Fighter</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">StarWars</span><span class="hl-1">(</span><span class="hl-8">&#39;Palpatine&#39;</span><span class="hl-1">, </span><span class="hl-7">75</span><span class="hl-1">, </span><span class="hl-7">1.72</span><span class="hl-1">, </span><span class="hl-8">&#39;starwars&#39;</span><span class="hl-1">, </span><span class="hl-7">150</span><span class="hl-1">, </span><span class="hl-7">60</span><span class="hl-1">, </span><span class="hl-7">120</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">rean</span><span class="hl-1"> :</span><span class="hl-3">Fighter</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">LegendsofHeroes</span><span class="hl-1">(</span><span class="hl-8">&#39;Rean&#39;</span><span class="hl-1">, </span><span class="hl-7">70</span><span class="hl-1">, </span><span class="hl-7">1.78</span><span class="hl-1">, </span><span class="hl-8">&#39;legendofheroes&#39;</span><span class="hl-1">, </span><span class="hl-7">100</span><span class="hl-1">, </span><span class="hl-7">100</span><span class="hl-1">, </span><span class="hl-7">100</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">goku</span><span class="hl-1"> :</span><span class="hl-3">Fighter</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">Dragonball</span><span class="hl-1">(</span><span class="hl-8">&#39;Goku&#39;</span><span class="hl-1">, </span><span class="hl-7">62</span><span class="hl-1">, </span><span class="hl-7">1.75</span><span class="hl-1">, </span><span class="hl-8">&#39;dragonball&#39;</span><span class="hl-1">, </span><span class="hl-7">70</span><span class="hl-1">, </span><span class="hl-7">110</span><span class="hl-1">, </span><span class="hl-7">200</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">listPokemons</span><span class="hl-1"> = [</span><span class="hl-4">suicune</span><span class="hl-1">, </span><span class="hl-4">luxray</span><span class="hl-1">, </span><span class="hl-4">palpatine</span><span class="hl-1">, </span><span class="hl-4">rean</span><span class="hl-1">, </span><span class="hl-4">goku</span><span class="hl-1">];</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Toda la lista de luchadores se guarda como un atributo público para que pueda ser accedido por todo el mundo y sacar el luchador que se quiera.</p>

<a href="#combat" id="combat" style="color: inherit; text-decoration: none;">
  <h3>Combat</h3>
</a>
<p>Esta clase no ha cambiado de la práctica anterior aparte de que los tipos ya no son pokemons sino son fighter y el tipo de la matriz no es de tipos sino de universos. Es una clase sin ningún tipo de atributos que solo realiza funcionalidades y dicha funcionalidad se resume en 2 métodos</p>

<a href="#attack" id="attack" style="color: inherit; text-decoration: none;">
  <h3>Attack</h3>
</a>
<pre><code><span class="hl-5">attack</span><span class="hl-1">(</span><span class="hl-4">atacante</span><span class="hl-1"> :</span><span class="hl-4">Fighter</span><span class="hl-1">, </span><span class="hl-4">defensor</span><span class="hl-1"> :</span><span class="hl-4">Fighter</span><span class="hl-1">) :</span><span class="hl-4">number</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">efectividad</span><span class="hl-1"> :</span><span class="hl-3">UniverseChecker</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">UniverseChecker</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">efectivo</span><span class="hl-1"> = </span><span class="hl-4">efectividad</span><span class="hl-1">.</span><span class="hl-5">checkType</span><span class="hl-1">(</span><span class="hl-4">atacante</span><span class="hl-1">, </span><span class="hl-4">defensor</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-6">damage</span><span class="hl-1"> = </span><span class="hl-3">Math</span><span class="hl-1">.</span><span class="hl-5">round</span><span class="hl-1">(</span><span class="hl-7">50</span><span class="hl-1"> * (</span><span class="hl-4">atacante</span><span class="hl-1">.</span><span class="hl-5">getAttack</span><span class="hl-1">() / </span><span class="hl-4">defensor</span><span class="hl-1">.</span><span class="hl-5">getDefense</span><span class="hl-1">()) * </span><span class="hl-4">efectivo</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">atacante</span><span class="hl-1">.</span><span class="hl-5">frase</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-8">`</span><span class="hl-2">${</span><span class="hl-4">atacante</span><span class="hl-10">.</span><span class="hl-4">name</span><span class="hl-2">}</span><span class="hl-8"> ataca a </span><span class="hl-2">${</span><span class="hl-4">defensor</span><span class="hl-10">.</span><span class="hl-4">name</span><span class="hl-2">}</span><span class="hl-8"> y le hace </span><span class="hl-2">${</span><span class="hl-4">damage</span><span class="hl-2">}</span><span class="hl-8"> puntos de daño`</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">efectivo</span><span class="hl-1"> == </span><span class="hl-7">2</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-8">`El ataque fue muy efectivo...`</span><span class="hl-1">);</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">efectivo</span><span class="hl-1"> == </span><span class="hl-7">1</span><span class="hl-1">/</span><span class="hl-7">2</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-8">`El ataque no fue muy efectivo...`</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-4">damage</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>Empezaremos mirando la función que calcula el daño, recibe el luchador atacante y el defensor, primero miramos la efectividad entre estos creando un objeto de UniverseChecker y llamando a la función de mira los tipos y luego usamos una función de ataque igual que la anterior: 50* (ataque del atacante / defensa del defensor) * efectividad. Una vez calculado se retorna el daño y se muestra el daño que ha realizado y la efectividad del ataque.</p>

<a href="#start" id="start" style="color: inherit; text-decoration: none;">
  <h4>Start</h4>
</a>
<pre><code><span class="hl-5">start</span><span class="hl-1">(</span><span class="hl-4">fighter1</span><span class="hl-1"> :</span><span class="hl-4">Fighter</span><span class="hl-1">, </span><span class="hl-4">fighter2</span><span class="hl-1"> :</span><span class="hl-4">Fighter</span><span class="hl-1">) :</span><span class="hl-4">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">fighter2</span><span class="hl-1">.</span><span class="hl-5">setHp</span><span class="hl-1">(</span><span class="hl-4">fighter2</span><span class="hl-1">.</span><span class="hl-5">getHp</span><span class="hl-1">() - </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">attack</span><span class="hl-1">(</span><span class="hl-4">fighter1</span><span class="hl-1">, </span><span class="hl-4">fighter2</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-8">`</span><span class="hl-2">${</span><span class="hl-4">fighter2</span><span class="hl-10">.</span><span class="hl-4">name</span><span class="hl-2">}</span><span class="hl-8"> tiene ahora </span><span class="hl-2">${</span><span class="hl-4">fighter2</span><span class="hl-10">.</span><span class="hl-5">getHp</span><span class="hl-10">()</span><span class="hl-2">}</span><span class="hl-8"> de vida`</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">fighter2</span><span class="hl-1">.</span><span class="hl-5">getHp</span><span class="hl-1">() &gt; </span><span class="hl-7">0</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">start</span><span class="hl-1">(</span><span class="hl-4">fighter2</span><span class="hl-1">, </span><span class="hl-4">fighter1</span><span class="hl-1">);</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-8">`</span><span class="hl-2">${</span><span class="hl-4">fighter2</span><span class="hl-10">.</span><span class="hl-4">name</span><span class="hl-2">}</span><span class="hl-8"> ha sido debilitado. </span><span class="hl-2">${</span><span class="hl-4">fighter1</span><span class="hl-10">.</span><span class="hl-4">name</span><span class="hl-2">}</span><span class="hl-8"> Es el ganador del combate`</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-4">fighter1</span><span class="hl-1">.</span><span class="hl-4">name</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code></pre>
<p>La función recibe 2 luchadores y cambia la vida del luchador 2 que es el que se va a defender del ataque, en ese cambio llama a la función de ataque descrita anteriormente y le quita la vida correspondiente al daño retornado por dicha función, si este daño no hace que la vida del defensor llegue a 0 o menos, se llama a la función de manera recursiva haciendo que el luchador 2 que era el que defendía pase ahora a ser el luchador 1 que es el ataca y viceversa, esta función seguirá llamandose recursivamente hasta que uno de los 2 luchadores llegue por debajo de 0 de vida y ahi terminará el combate.</p>

<a href="#ejercicio-3-el-cifrado-indescifrable" id="ejercicio-3-el-cifrado-indescifrable" style="color: inherit; text-decoration: none;">
  <h3>Ejercicio-3 El cifrado Indescifrable</h3>
</a>
<p>Nos piden realizar un cifrado en el que usando una palabra, una clave y un alfabeto, encriptemos la palabra usando la clave de tal manera que cada posicion de las letras de la palabra a encriptar se mueven en n posiciones segun la posicion de la letras de la clave. En otras palabras nos piden implementar el cifrado conocido como cifrado Viginere.</p>
<p>Ahora bien la idea para completar este ejercicio esta en la utilización de una sola clase pues en esté se va meter toda la encriptación tanto como para cifrar o para descifrar pues ambas operaciones son realizadas iguales solo que sus operaciones son inversas, siguiendo el principio SOLID de las clases que tengan una única responsabilidad, la cuál esta va a ser la de realizar el proceso de encriptación del cifrado.</p>

<a href="#constructor" id="constructor" style="color: inherit; text-decoration: none;">
  <h5>Constructor</h5>
</a>
<pre><code><span class="hl-5">constructor</span><span class="hl-1">(</span><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-4">alfabeto</span><span class="hl-1"> :</span><span class="hl-4">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">alfabeto</span><span class="hl-1"> = </span><span class="hl-4">alfabeto</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>La idea es en la clase solo guardar el alfabeto pues será lo único inmutable durante el proceso de cifrado y descifrado, las palabras y las claves pueden cambiar pero todas estas tienen que ser sobre un mismo alfabeto, si se quiere otro alfabeto se deberá crear otro objeto de tipo cifrado.</p>

<a href="#busqueda" id="busqueda" style="color: inherit; text-decoration: none;">
  <h5>Busqueda</h5>
</a>
<pre><code><span class="hl-5">indexBusqueda</span><span class="hl-1">(</span><span class="hl-4">letraPalabra</span><span class="hl-1"> :</span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">letraClave</span><span class="hl-1"> :</span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">mode</span><span class="hl-1"> :</span><span class="hl-4">string</span><span class="hl-1"> =</span><span class="hl-8">&#39;cifrar&#39;</span><span class="hl-1"> || </span><span class="hl-8">&#39;descifrar&#39;</span><span class="hl-1">) :</span><span class="hl-4">number</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">indexClave</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">indexPalabra</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">j</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">; </span><span class="hl-4">j</span><span class="hl-1"> &lt; </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">alfabeto</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1">; </span><span class="hl-4">j</span><span class="hl-1">++) {</span><br/><span class="hl-1">      </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">letraClave</span><span class="hl-1"> == </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">alfabeto</span><span class="hl-1">[</span><span class="hl-4">j</span><span class="hl-1">]) {</span><br/><span class="hl-1">        </span><span class="hl-4">indexClave</span><span class="hl-1"> = </span><span class="hl-4">j</span><span class="hl-1"> + </span><span class="hl-7">1</span><span class="hl-1">;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">letraPalabra</span><span class="hl-1"> == </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">alfabeto</span><span class="hl-1">[</span><span class="hl-4">j</span><span class="hl-1">]) {</span><br/><span class="hl-1">        </span><span class="hl-4">indexPalabra</span><span class="hl-1"> = </span><span class="hl-4">j</span><span class="hl-1">;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">mode</span><span class="hl-1"> == </span><span class="hl-8">&#39;cifrar&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-4">indexClave</span><span class="hl-1"> + </span><span class="hl-4">indexPalabra</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-4">indexPalabra</span><span class="hl-1"> - </span><span class="hl-4">indexClave</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>  Tanto como para descifrar o para cifrar se va a hacer uso de la función de búsqueda esta lo que va a realizar es que pasándole una letra de la palabra y una letra de la clave va a iterar siguiendo el alfabeto hasta que coincidan con la posición de esta, y se van a guardar las posiciones y dependiendo de si estamos cifrando o descifrando se va a sumar o restar respectivamente las posiciones y se devuelve la posición resultado.</p>

<a href="#cifrar-y-descifrar" id="cifrar-y-descifrar" style="color: inherit; text-decoration: none;">
  <h5>Cifrar y Descifrar</h5>
</a>
<pre><code><span class="hl-5">cifrar</span><span class="hl-1">(</span><span class="hl-4">palabra</span><span class="hl-1"> :</span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">clave</span><span class="hl-1"> :</span><span class="hl-4">string</span><span class="hl-1">) :</span><span class="hl-4">string</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> :</span><span class="hl-3">string</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">  </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">k</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">i</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">; </span><span class="hl-4">i</span><span class="hl-1"> &lt; </span><span class="hl-4">palabra</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1">; </span><span class="hl-4">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">k</span><span class="hl-1"> == </span><span class="hl-4">clave</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">k</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">result</span><span class="hl-1">.</span><span class="hl-5">push</span><span class="hl-1">(</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">alfabeto</span><span class="hl-1">[</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">indexBusqueda</span><span class="hl-1">(</span><span class="hl-4">palabra</span><span class="hl-1">[</span><span class="hl-4">i</span><span class="hl-1">], </span><span class="hl-4">clave</span><span class="hl-1">[</span><span class="hl-4">k</span><span class="hl-1">], </span><span class="hl-8">&#39;cifrar&#39;</span><span class="hl-1">) % </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">alfabeto</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1">]);</span><br/><span class="hl-1">    </span><span class="hl-4">k</span><span class="hl-1">++;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1">.</span><span class="hl-5">join</span><span class="hl-1">(</span><span class="hl-8">&#39;&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>
<pre><code><span class="hl-5">descifrar</span><span class="hl-1">(</span><span class="hl-4">palabra</span><span class="hl-1"> :</span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">clave</span><span class="hl-1"> :</span><span class="hl-4">string</span><span class="hl-1">) :</span><span class="hl-4">string</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> :</span><span class="hl-3">string</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">  </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">k</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">i</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">; </span><span class="hl-4">i</span><span class="hl-1"> &lt; </span><span class="hl-4">palabra</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1">; </span><span class="hl-4">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">k</span><span class="hl-1"> == </span><span class="hl-4">clave</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">k</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">result</span><span class="hl-1">.</span><span class="hl-5">push</span><span class="hl-1">(</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">alfabeto</span><span class="hl-1">[(</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">indexBusqueda</span><span class="hl-1">(</span><span class="hl-4">palabra</span><span class="hl-1">[</span><span class="hl-4">i</span><span class="hl-1">], </span><span class="hl-4">clave</span><span class="hl-1">[</span><span class="hl-4">k</span><span class="hl-1">], </span><span class="hl-8">&#39;descifrar&#39;</span><span class="hl-1">) + </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">alfabeto</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1">  ) % </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">alfabeto</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1">]);</span><br/><span class="hl-1">    </span><span class="hl-4">k</span><span class="hl-1">++;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1">.</span><span class="hl-5">join</span><span class="hl-1">(</span><span class="hl-8">&#39;&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>
<p>  Como se puede observar ambas operaciones son practicamente iguales se crea un array resultado donde iremos metiendo cada resultado de cada letra, un auxiliar k que va a ir iterando por cada letra de la clave y un bucle for i que itere por cada letra de la palabra, se llama a la función de busqueda, usando el módulo del ancho del alfabeto porque no queremos que supere este y una vez terminado de recorrer el resultado que nos quedará es la palabra cifrada</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="modules/combat.html">combat</a></li><li class=" tsd-kind-module"><a href="modules/dragonball.html">dragonball</a></li><li class=" tsd-kind-module"><a href="modules/fighter.html">fighter</a></li><li class=" tsd-kind-module"><a href="modules/legendsOfHeroes.html">legends<wbr/>Of<wbr/>Heroes</a></li><li class=" tsd-kind-module"><a href="modules/pokemon.html">pokemon</a></li><li class=" tsd-kind-module"><a href="modules/starWars.html">star<wbr/>Wars</a></li><li class=" tsd-kind-module"><a href="modules/universeChecker.html">universe<wbr/>Checker</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>